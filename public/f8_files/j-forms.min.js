$(document).ready(function() {
    function e() {
        for (var e = "", i =
            "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",
            r = "0123456789", a = 0; 4 > a; a++) e += i.charAt(Math
            .floor(Math.random() * i.length));
        for (var a = 0; 4 > a; a++) e += r.charAt(Math.floor(Math.random() *
            r.length));
        return e
    }

    function i(e) {
        $("#" + e).is(":checked") ? ($("." + e).addClass(
            "disabled-view"), $("." + e +
            ' input[type="checkbox"]').attr("disabled",
            "true").removeAttr("checked")) : ($("." + e).removeClass(
            "disabled-view"), $("." + e +
            ' input[type="checkbox"]').removeAttr(
            "disabled"))
    }

    function r(e) {
        $("." + e).addClass("disabled-view"), $("." + e +
            ' input[type="checkbox"]').attr("disabled", "true")
    }
    var a = function() {
        $("html, body").animate({
            scrollTop: $("#j-forms").offset().top
        }, 700)
    };
    $("#unique_id").val(e()), $("#charlson_comorbidity_index").change(
            function() {
                var e = "",
                    i = $("#charlson_comorbidity_checkboxes");
                $("#charlson_comorbidity_index option:selected").each(
                        function() {
                            e = $(this).val()
                        }), "Show comorbidity list / calculator" == e ?
                    i.hasClass("hidden") && i.removeClass("hidden") : i
                    .hasClass("hidden") || i.addClass("hidden")
            }).change(), $("#pathology_indication_for_surgery").change(
            function() {
                var e = "",
                    i = $("#tumor_stages");
                $("#pathology_indication_for_surgery option:selected").each(
                    function() {
                        e = $(this).val()
                    }), "" == e || "Malignant" == e ? i.hasClass(
                    "hidden") && i.removeClass("hidden") : i.hasClass(
                    "hidden") || i.addClass("hidden")
            }).change(), $("#pre_operative_treatment").change(function() {
            var e = "",
                i = $("#duration_before_surgery");
            $("#pre_operative_treatment option:selected").each(
                function() {
                    e = $(this).val()
                }), "Definitive Chemo/Radiotherapy" == e ? i.hasClass(
                "hidden") && i.removeClass("hidden") : i.hasClass(
                "hidden") || i.addClass("hidden")
        }).change(), $("#surgical_approach").change(function() {
            var e = "",
                i = $("#open_approach"),
                r = $("#minimally_invasive_approach");
            $("#surgical_approach option:selected").each(function() {
                    e = $(this).val()
                }), "Open Esophagectomy" == e && (i.hasClass(
                    "hidden") && i.removeClass("hidden"), r.hasClass(
                    "hidden") || r.addClass("hidden")),
                "Minimally Invasive Esophagectomy" == e && (i.hasClass(
                    "hidden") || i.addClass("hidden"), r.hasClass(
                    "hidden") && r.removeClass("hidden")), "" == e &&
                (i.hasClass("hidden") || i.addClass("hidden"), r.hasClass(
                    "hidden") || r.addClass("hidden"))
        }).change(), $("#postoperative_complications_eccg_definitions")
        .change(function() {
            var e = "",
                i = $("#complications_checkboxes");
            $(
                "#postoperative_complications_eccg_definitions option:selected"
            ).each(function() {
                e = $(this).val()
            }), "No post-operative complications" == e ? i.hasClass(
                "hidden") || i.addClass("hidden") : i.hasClass(
                "hidden") && i.removeClass("hidden")
        }).change(), $("#gastrointestinal").change(function() {
            i("gastrointestinal")
        }).change(), $("#thromboembolic").change(function() {
            i("thromboembolic")
        }).change(), $("#neurologic_psychiatric").change(function() {
            i("neurologic_psychiatric")
        }).change(), $("#pulmonary").change(function() {
            i("pulmonary")
        }).change(), $("#urologic").change(function() {
            i("urologic")
        }).change(), $("#wound_diaphragm").change(function() {
            i("wound_diaphragm")
        }).change(), $("#cardiac").change(function() {
            i("cardiac")
        }).change(), $("#infection").change(function() {
            i("infection")
        }).change(), $("#other").change(function() {
            i("other")
        }).change(), $("#j-forms").validate({
            errorClass: "error-view",
            validClass: "success-view",
            errorElement: "span",
            onkeyup: !1,
            onclick: !1,
            rules: {
                unique_id: {
                    required: !0
                },
                patient_height: {
                    required: !0,
                    digits: !0,
                    range: [70, 270]
                },
                patient_weight: {
                    required: !0,
                    digits: !0,
                    range: [30, 270]
                },
                patient_age: {
                    required: !0
                },
                charlson_comorbidity_index: {
                    required: !0
                },
                asa_score: {
                    required: !0
                },
                who_ecog_score: {
                    required: !0
                },
                "treatment_conditions[]": {
                    required: !0
                },
                pathology_indication_for_surgery: {
                    required: !0
                },
                timing_of_surgery: {
                    required: !0
                },
                month_of_surgery: {
                    required: !0
                },
                year_of_surgery: {
                    required: !0
                },
                tumor_location: {
                    required: !0
                },
                ct_stage: {
                    required: !0
                },
                cn_stage: {
                    required: !0
                },
                cm_stage: {
                    required: !0
                },
                pre_operative_treatment: {
                    required: !0
                },
                duration_before_surgery: {
                    required: !0
                },
                pt_stage: {
                    required: !0
                },
                pn_stage: {
                    required: !0
                },
                pm_stage: {
                    required: !0
                },
                total_resected_lymph_nodes: {
                    required: !0
                },
                resection_margin: {
                    required: !0
                },
                surgical_approach: {
                    required: !0
                },
                anastomosis: {
                    required: !0
                },
                neck_lymphadenectomy_performed: {
                    required: !0
                },
                open_approach: {
                    required: !0
                },
                minimally_invasive_approach: {
                    required: !0
                },
                postoperative_complications_eccg_definitions: {
                    required: !0
                },
                "complications_gastrointestinal[]": {
                    required: !0
                },
                "complications_thromboembolic[]": {
                    required: !0
                },
                "complications_neurologic_psychiatric[]": {
                    required: !0
                },
                "complications_pulmonary[]": {
                    required: !0
                },
                "complications_urologic[]": {
                    required: !0
                },
                "complications_wound_diaphragm[]": {
                    required: !0
                },
                "complications_cardiac[]": {
                    required: !0
                },
                "complications_infection[]": {
                    required: !0
                },
                "complications_other[]": {
                    required: !0
                },
                title_user: {
                    required: !0
                },
                change_in_level_of_care: {
                    required: !0
                },
                blood_product_utilization: {
                    required: !0
                },
                discharge_location: {
                    required: !0
                },
                post_operative_length_of_stay: {
                    required: !0,
                    digits: !0
                },
                re_admissions: {
                    required: !0
                },
                mortality_status: {
                    required: !0
                }
            },
            messages: {
                unique_id: {
                    required: "Required"
                },
                patient_height: {
                    required: "Required",
                    digits: "Only digits"
                },
                patient_weight: {
                    required: "Required",
                    digits: "Only digits"
                },
                patient_age: {
                    required: "Required"
                },
                charlson_comorbidity_index: {
                    required: "Required"
                },
                asa_score: {
                    required: "Required"
                },
                who_ecog_score: {
                    required: "Required"
                },
                "treatment_conditions[]": {
                    required: "Required"
                },
                pathology_indication_for_surgery: {
                    required: "Required"
                },
                timing_of_surgery: {
                    required: "Required"
                },
                month_of_surgery: {
                    required: "Required"
                },
                year_of_surgery: {
                    required: "Required"
                },
                tumor_location: {
                    required: "Required"
                },
                ct_stage: {
                    required: "Required"
                },
                cn_stage: {
                    required: "Required"
                },
                cm_stage: {
                    required: "Required"
                },
                pre_operative_treatment: {
                    required: "Required"
                },
                duration_before_surgery: {
                    required: "Required"
                },
                pt_stage: {
                    required: "Required"
                },
                pn_stage: {
                    required: "Required"
                },
                pm_stage: {
                    required: "Required"
                },
                total_resected_lymph_nodes: {
                    required: "Required"
                },
                resection_margin: {
                    required: "Required"
                },
                surgical_approach: {
                    required: "Required"
                },
                anastomosis: {
                    required: "Required"
                },
                neck_lymphadenectomy_performed: {
                    required: "Required"
                },
                open_approach: {
                    required: "Required"
                },
                minimally_invasive_approach: {
                    required: "Required"
                },
                postoperative_complications_eccg_definitions: {
                    required: "Required"
                },
                "complications_gastrointestinal[]": {
                    required: "Required"
                },
                "complications_thromboembolic[]": {
                    required: "Required"
                },
                "complications_neurologic_psychiatric[]": {
                    required: "Required"
                },
                "complications_pulmonary[]": {
                    required: "Required"
                },
                "complications_urologic[]": {
                    required: "Required"
                },
                "complications_wound_diaphragm[]": {
                    required: "Required"
                },
                "complications_cardiac[]": {
                    required: "Required"
                },
                "complications_infection[]": {
                    required: "Required"
                },
                "complications_other[]": {
                    required: "Required"
                },
                title_user: {
                    required: "Required"
                },
                change_in_level_of_care: {
                    required: "Required"
                },
                blood_product_utilization: {
                    required: "Required"
                },
                discharge_location: {
                    required: "Required"
                },
                post_operative_length_of_stay: {
                    required: "Required",
                    digits: "Only digits"
                },
                re_admissions: {
                    required: "Required"
                },
                mortality_status: {
                    required: "Required"
                }
            },
            highlight: function(e, i, r) {
                $(e).closest(".input").removeClass(r).addClass(
                    i), ($(e).is(":checkbox") || $(e).is(
                    ":radio")) && $(e).closest(".check").removeClass(
                    r).addClass(i)
            },
            unhighlight: function(e, i, r) {
                $(e).closest(".input").removeClass(i).addClass(
                    r), ($(e).is(":checkbox") || $(e).is(
                    ":radio")) && $(e).closest(".check").removeClass(
                    i).addClass(r)
            },
            errorPlacement: function(e, i) {
                $(i).is(":checkbox") || $(i).is(":radio") ? $(i)
                    .closest(".check").append(e) : $(i).closest(
                        ".unit").append(e)
            },
            submitHandler: function() {
                $("#j-forms").ajaxSubmit({
                    target: "#j-forms #response",
                    error: function(e) {
                        $("#j-forms #response").html(
                            "An error occured: " +
                            e.status + " - " +
                            e.statusText)
                    },
                    beforeSubmit: function() {
                        $(
                            '#j-forms button[type="submit"]'
                        ).attr("disabled", !0).addClass(
                            "processing")
                    },
                    success: function() {
                        $(
                            '#j-forms button[type="submit"]'
                        ).attr("disabled", !1).removeClass(
                            "processing"), $(
                            "#j-forms .success-message"
                        ).length && ($(
                                "#j-forms .input"
                            ).removeClass(
                                "success-view error-view"
                            ), $(
                                "#j-forms .check"
                            ).removeClass(
                                "success-view error-view"
                            ), $("#j-forms").resetForm(),
                            $("#unique_id").val(
                                e()), r(
                                "gastrointestinal"
                            ), r(
                                "thromboembolic"
                            ), r(
                                "neurologic_psychiatric"
                            ), r("pulmonary"),
                            r("urologic"), r(
                                "wound_diaphragm"
                            ), r("cardiac"), r(
                                "infection"), r(
                                "other"), $(
                                '#j-forms button[type="submit"]'
                            ).attr("disabled", !
                                0), setTimeout(
                                function() {
                                    $(
                                            "#charlson_comorbidity_checkboxes"
                                        ).hasClass(
                                            "hidden"
                                        ) || $(
                                            "#charlson_comorbidity_checkboxes"
                                        ).addClass(
                                            "hidden"
                                        ), $(
                                            "#tumor_stages"
                                        ).hasClass(
                                            "hidden"
                                        ) && $(
                                            "#tumor_stages"
                                        ).removeClass(
                                            "hidden"
                                        ), $(
                                            "#duration_before_surgery"
                                        ).hasClass(
                                            "hidden"
                                        ) || $(
                                            "#duration_before_surgery"
                                        ).addClass(
                                            "hidden"
                                        ), $(
                                            "#open_approach"
                                        ).hasClass(
                                            "hidden"
                                        ) || $(
                                            "#open_approach"
                                        ).addClass(
                                            "hidden"
                                        ), $(
                                            "#minimally_invasive_approach"
                                        ).hasClass(
                                            "hidden"
                                        ) || $(
                                            "#minimally_invasive_approach"
                                        ).addClass(
                                            "hidden"
                                        ), $(
                                            "#complications_checkboxes"
                                        ).hasClass(
                                            "hidden"
                                        ) && $(
                                            "#complications_checkboxes"
                                        ).removeClass(
                                            "hidden"
                                        ), $(
                                            "#j-forms #response"
                                        ).removeClass(
                                            "success-message"
                                        ).html(
                                            ""),
                                        $(
                                            '#j-forms button[type="submit"]'
                                        ).attr(
                                            "disabled", !
                                            1),
                                        a()
                                }, 4e3))
                    }
                })
            }
        })
});